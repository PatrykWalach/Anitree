{"version":3,"sources":["webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js","webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///./src/views/Media.vue?3f94","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js","webpack:///./src/views/Media.vue","webpack:///./src/views/Media.vue?9ac2","webpack:///./src/views/Media.vue?1ee5","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.get-own-property-descriptor.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-symbols.js","webpack:///./node_modules/core-js/library/fn/object/get-own-property-descriptor.js"],"names":["module","exports","__webpack_require__","toObject","$keys","it","render","_vm","this","_h","$createElement","_c","_self","attrs","loading","mediaList","staticRenderFns","_defineProperty","obj","key","value","define_property_default","enumerable","configurable","writable","_objectSpread","target","i","arguments","length","source","ownKeys","keys_default","get_own_property_symbols_default","a","concat","filter","sym","get_own_property_descriptor_default","forEach","vue_property_decorator","registerHooks","Mediavue_type_script_lang_ts_Media","_Vue","Media","_this","Object","classCallCheck","inherits","createClass","_beforeRouteEnter","asyncToGenerator","regeneratorRuntime","mark","_callee2","to","from","next","currentId","wrap","_context2","prev","parseInt","params","mediaId","Promise","_ref","_callee","resolve","reject","storedMedia","media","_context","modules_media","fetchMedia","id_in","sent","shift","stop","_x4","_x5","apply","then","title","romaji","document","slush","trim","replace","name","vm","fetch","catch","beforeRouteEnter","_x","_x2","_x3","_beforeRouteUpdate","_callee4","_this2","_context4","_ref2","_callee3","_context3","_x9","_x10","beforeRouteUpdate","_x6","_x7","_x8","_fetch","_callee5","_context5","handleQueue","CHANGE_CURRENT_ID","changeFilteredMedia","_x11","_changeFilteredMedia","_callee6","_context6","get","activeFilters","sortedMedia","$route","tslib_es6","deep","components","MediaTimeline","BaseContainer","Mediavue_type_script_lang_ts_","views_Mediavue_type_script_lang_ts_","component","componentNormalizer","__webpack_exports__","keys","anObject","toLength","toInteger","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","undefined","String","defined","REPLACE","$replace","maybeCallNative","searchValue","replaceValue","O","fn","call","regexp","res","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","result","push","matchStr","accumulatedResult","nextSourcePosition","matched","position","index","captures","j","namedCaptures","groups","replacerArgs","replacement","getSubstitution","slice","str","tailPos","m","symbols","match","ch","capture","charAt","n","f","toIObject","$getOwnPropertyDescriptor","getOwnPropertySymbols","$Object","getOwnPropertyDescriptor"],"mappings":"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","file":"js/chunk-9fa06964.a0d24b18.js","sourcesContent":["module.exports = require(\"core-js/library/fn/object/get-own-property-descriptor\");","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('base-container',{attrs:{\"loading\":_vm.loading}},[_c('MediaTimeline',{attrs:{\"mediaList\":_vm.mediaList}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Object$defineProperty from \"../../core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import _Object$getOwnPropertyDescriptor from \"../../core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"../../core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"../../core-js/object/keys\";\nimport defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    var ownKeys = _Object$keys(source);\n\n    if (typeof _Object$getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(_Object$getOwnPropertySymbols(source).filter(function (sym) {\n        return _Object$getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","\n\n\n\n\n\r\nimport { Vue, Component, Watch } from 'vue-property-decorator'\r\nimport MediaTimeline from '../components/MediaTimeline.vue'\r\nimport { Route } from 'vue-router'\r\nimport moduleMedia from '@/store/modules/media'\r\nimport { Next, AMedia } from '../types'\r\nimport BaseContainer from '../components/BaseContainer.vue'\r\n\r\nComponent.registerHooks(['beforeRouteEnter', 'beforeRouteUpdate'])\r\n\r\n@Component({\r\n  components: {\r\n    MediaTimeline,\r\n    BaseContainer\r\n  }\r\n})\r\nexport default class Media extends Vue {\r\n  public loading: boolean = false\r\n\r\n  public async beforeRouteEnter(to: Route, from: Route, next: Next<Media>) {\r\n    const currentId = parseInt(to.params.mediaId, 10)\r\n\r\n    new Promise<AMedia>(async (resolve, reject) => {\r\n      const storedMedia = moduleMedia.media[currentId]\r\n      if (storedMedia) {\r\n        resolve(storedMedia)\r\n      } else {\r\n        const media = await moduleMedia.fetchMedia({\r\n          id_in: [currentId]\r\n        })\r\n\r\n        if (media.length) {\r\n          resolve(media.shift())\r\n        } else {\r\n          reject()\r\n        }\r\n      }\r\n    })\r\n\r\n      .then(media => {\r\n        const title = media.title.romaji\r\n        document.title = 'Anitree - ' + title\r\n        const slush = title\r\n          .trim()\r\n          .replace(/[^\\w\\s]/g, '')\r\n          .replace(/\\s/g, '-')\r\n\r\n        if (to.params.title !== slush) {\r\n          return next({\r\n            name: 'title',\r\n            params: {\r\n              ...to.params,\r\n              title: slush\r\n            },\r\n            replace: true\r\n          })\r\n        } else {\r\n          return next(vm => vm.fetch(media))\r\n        }\r\n      })\r\n      .catch(() => next(false))\r\n  }\r\n\r\n  public async beforeRouteUpdate(to: Route, from: Route, next: Next<Media>) {\r\n    const currentId = parseInt(to.params.mediaId, 10)\r\n\r\n    new Promise<AMedia>(async (resolve, reject) => {\r\n      const storedMedia = moduleMedia.media[currentId]\r\n      if (storedMedia) {\r\n        resolve(storedMedia)\r\n      } else {\r\n        const media = await moduleMedia.fetchMedia({\r\n          id_in: [currentId]\r\n        })\r\n\r\n        if (media.length) {\r\n          resolve(media.shift())\r\n        } else {\r\n          reject()\r\n        }\r\n      }\r\n    })\r\n\r\n      .then(media => {\r\n        const title = media.title.romaji\r\n        document.title = 'Anitree - ' + title\r\n        const slush = title\r\n          .trim()\r\n          .replace(/[^\\w\\s]/g, '')\r\n          .replace(/\\s/g, '-')\r\n\r\n        if (to.params.title !== slush) {\r\n          return next({\r\n            name: 'title',\r\n            params: {\r\n              ...to.params,\r\n              title: slush\r\n            },\r\n            replace: true\r\n          })\r\n        } else {\r\n          next()\r\n          this.fetch(media)\r\n          return\r\n        }\r\n      })\r\n      .catch(() => next(false))\r\n  }\r\n\r\n  // @Watch('$route')\r\n  public async fetch(media: AMedia) {\r\n    const { currentId } = this\r\n    this.loading = true\r\n    // const results = await moduleMedia.fetchMedia({\r\n    //   id_in: [currentId]\r\n    // })\r\n\r\n    await moduleMedia.handleQueue([media])\r\n    await moduleMedia.CHANGE_CURRENT_ID({ currentId })\r\n    await moduleMedia.changeFilteredMedia()\r\n\r\n    this.loading = false\r\n  }\r\n\r\n  @Watch('filters', { deep: true })\r\n  public async changeFilteredMedia() {\r\n    this.loading = true\r\n    await moduleMedia.changeFilteredMedia()\r\n    this.loading = false\r\n  }\r\n\r\n  get filters() {\r\n    return moduleMedia.activeFilters\r\n  }\r\n\r\n  // @Watch('slush', { immediate: true })\r\n  // public changeSlush() {\r\n  //   if (this.slush) {\r\n  //     this.$router.push({\r\n  //       name: 'title',\r\n  //       params: {\r\n  //         title: this.slush\r\n  //       }\r\n  //     })\r\n  //   }\r\n  // }\r\n\r\n  // @Watch('title', { immediate: true })\r\n  // public changeTitle() {\r\n  //   if (this.title) {\r\n  //     document.title = 'Anitree - ' + this.title\r\n  //   }\r\n  // }\r\n\r\n  get mediaList() {\r\n    return moduleMedia.sortedMedia\r\n  }\r\n\r\n  // get slush() {\r\n  //   return this.title\r\n  //     .trim()\r\n  //     .replace(/[^\\w\\s]/g, '')\r\n  //     .replace(/\\s/g, '-')\r\n  // }\r\n\r\n  // get media() {\r\n  //   return moduleMedia.currentMedia\r\n  // }\r\n\r\n  get currentId() {\r\n    return parseInt(this.$route.params.mediaId, 10)\r\n  }\r\n\r\n  // get title() {\r\n  //   return this.media ? this.media.title.romaji : ''\r\n  // }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Media.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Media.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Media.vue?vue&type=template&id=0ac4a9ef&\"\nimport script from \"./Media.vue?vue&type=script&lang=ts&\"\nexport * from \"./Media.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","module.exports = require(\"core-js/library/fn/object/keys\");","// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\nvar toIObject = require('./_to-iobject');\nvar $getOwnPropertyDescriptor = require('./_object-gopd').f;\n\nrequire('./_object-sap')('getOwnPropertyDescriptor', function () {\n  return function getOwnPropertyDescriptor(it, key) {\n    return $getOwnPropertyDescriptor(toIObject(it), key);\n  };\n});\n","module.exports = require(\"core-js/library/fn/object/get-own-property-symbols\");","require('../../modules/es6.symbol');\nmodule.exports = require('../../modules/_core').Object.getOwnPropertySymbols;\n","require('../../modules/es6.object.get-own-property-descriptor');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function getOwnPropertyDescriptor(it, key) {\n  return $Object.getOwnPropertyDescriptor(it, key);\n};\n"],"sourceRoot":""}